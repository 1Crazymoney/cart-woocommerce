function mp_settings_accordion_start(e,t,n){var s,i=document.getElementsByClassName("mp-settings-title-align");for(s=0;s<i.length;s++)i[s].addEventListener("click",(function(){this.classList.toggle("active");for(var e=null,t=0;t<this.childNodes.length;t++)if(this.childNodes[t]?.classList?.contains("mp-settings-margin-left")){e=this.childNodes[t];break}e.childNodes[1].classList.toggle(n);var s=this.nextElementSibling;"block"===s.style.display?s.style.display="none":s.style.display="block"}));console.log("MP Settings Accordion Started!")}function mp_get_requirements(){wp.ajax.post("mp_get_requirements",{}).done((function(e){const t={ssl:document.getElementById("mp-req-ssl"),gd_ext:document.getElementById("mp-req-gd"),curl_ext:document.getElementById("mp-req-curl")};for(let n in t){let s=t[n];s.style="",e[n]||(s.classList.remove("mp-settings-icon-success"),s.classList.add("mp-settings-icon-warning"))}}))}function mp_validate_credentials(){document.getElementById("mp-access-token-prod").addEventListener("change",(function(){var e=this;wp.ajax.post("mp_validate_credentials",{access_token:this.value,is_test:!1}).done((function(t){e.classList.add("mp-credential-feedback-positive"),e.classList.remove("mp-credential-feedback-negative")})).fail((function(t){e.classList.remove("mp-credential-feedback-positive"),e.classList.add("mp-credential-feedback-negative")}))})),document.getElementById("mp-access-token-test").addEventListener("change",(function(){var e=this;wp.ajax.post("mp_validate_credentials",{access_token:this.value,is_test:!0}).done((function(t){e.classList.add("mp-credential-feedback-positive"),e.classList.remove("mp-credential-feedback-negative")})).fail((function(t){e.classList.remove("mp-credential-feedback-positive"),e.classList.add("mp-credential-feedback-negative")}))})),document.getElementById("mp-public-key-test").addEventListener("change",(function(){var e=this;wp.ajax.post("mp_validate_credentials",{public_key:this.value,is_test:!0}).done((function(t){e.classList.add("mp-credential-feedback-positive"),e.classList.remove("mp-credential-feedback-negative")})).fail((function(t){e.classList.remove("mp-credential-feedback-positive"),e.classList.add("mp-credential-feedback-negative")}))})),document.getElementById("mp-public-key-prod").addEventListener("change",(function(){var e=this;wp.ajax.post("mp_validate_credentials",{public_key:this.value,is_test:!1}).done((function(t){e.classList.add("mp-credential-feedback-positive"),e.classList.remove("mp-credential-feedback-negative")})).fail((function(t){e.classList.remove("mp-credential-feedback-positive"),e.classList.add("mp-credential-feedback-negative")}))}))}function update_option_credentials(){document.getElementById("mp-btn-credentials").addEventListener("click",(function(){const e={access_token_prod:document.getElementById("mp-access-token-prod").value,access_token_test:document.getElementById("mp-access-token-test").value,public_key_prod:document.getElementById("mp-public-key-prod").value,public_key_test:document.getElementById("mp-public-key-test").value};wp.ajax.post("update_option_credentials",e).done((function(e){console.log("ok")})).fail((function(e){console.log("error")}))})),console.log("MP option update!")}function mp_validate_store_information(){console.log("chegando aqui"),button=document.getElementById("mp-store-info-save"),button.addEventListener("click",(function(){const e={store_identificator:document.getElementById("mp-store-identificator").value,store_category_id:document.getElementById("mp-store-category-id").value,store_categories:document.getElementById("mp-store-categories").value,store_url_ipn:document.querySelector("#mp-store-url-ipn").value,store_integrator_id:document.getElementById("mp-store-integrator-id").value,store_debug_mode:document.querySelector("#mp-store-debug-mode:checked")?.value};wp.ajax.post("mp_validate_store_information",e).done((function(e){console.log(e)})).fail((function(e){console.log(e)}))}))}function mp_settings_accordion_options(){var e=document.getElementById("options"),t=document.getElementById("block-two");e.addEventListener("click",(function(){this.classList.toggle("active");var n=this.nextElementSibling;"block"===n.style.display?n.style.display="none":n.style.display="block",e.classList.contains("active")||t.classList.contains("mp-settings-flex-start")?(e.textContent="Ocultar opções avançadas",t.classList.remove("mp-settings-flex-start")):(t.classList.toggle("mp-settings-flex-start"),e.textContent="Ver opções avançadas")})),console.log("MP Settings Accordion Started 2!")}function mp_store_mode(){document.getElementById("mp-store-mode-save").addEventListener("click",(function(){var e=document.querySelector('input[name="mp-test-prod"]:checked').value;input_value="yes"===e?"yes":"no",console.log(input_value),wp.ajax.post("mp_store_mode",input_value).done((function(e){console.log(e)})).fail((function(e){console.log(e)}))}))}function mp_settings_screen_load(){mp_settings_accordion_start(),mp_settings_accordion_options(),mp_get_requirements(),mp_validate_credentials(),update_option_credentials(),mp_validate_store_information()}